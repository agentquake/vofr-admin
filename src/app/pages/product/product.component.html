<nb-card>
    <nb-card-header>
        <h2>Product
            <button nbButton (click)="open(addNewDialog)">
                <nb-icon icon="plus-outline" status="danger" style="color: white"></nb-icon>
                Add new
            </button>
        </h2>
    </nb-card-header>

    <!-- Add new template -->
    <ng-template #addNewDialog let-data let-ref="dialogRef">
        <nb-card [size]="'large'" style="width: 500px">
            <nb-card-header>New product</nb-card-header>
            <nb-card-body>
                <h6 for="name">Name</h6>
                <input type="text" nbInput fullWidth class="form-control" id="name" name="name"
                    [(ngModel)]="newProduct.name" style="margin-bottom: 1rem" required>

                <h6 for="price">Price</h6>
                <input type="number" nbInput fullWidth class="form-control" id="price" [(ngModel)]="newProduct.price"
                    name="price" style="margin-bottom: 1rem" required>

                <h6 for="power">Category</h6>
                <nb-select id="power" fullWidth style="margin-bottom: 1rem; margin-right: 1rem;"
                    [(ngModel)]="newProduct.categoryId" required>
                    <nb-option-group *ngFor="let cate of masterCategories" title="{{cate.name}}">
                        <nb-option *ngFor="let subcate of filtCategory(cate.id)" [value]="subcate.id">
                            {{subcate.name}}
                        </nb-option>
                    </nb-option-group>
                </nb-select>

                <h6 for="description">Description</h6>
                <textarea type="text" nbInput fullWidth class="form-control" id="description" style="height: 150px"
                    [(ngModel)]="newProduct.description" name="description"></textarea>

            </nb-card-body>
            <nb-card-footer>
                <button (click)="ref.close()" nbButton status="danger" style="margin-right: 1rem;">Cancel</button>
                <button (click)="createProduct();ref.close()" nbButton type="submit" status="success">Save</button>
            </nb-card-footer>
        </nb-card>
    </ng-template>

    <nb-card-body>
        <ng2-smart-table [settings]="tableSettings" [source]="source">
        </ng2-smart-table>
        <h1>{{demo}}</h1>
    </nb-card-body>
</nb-card>